<ion-header>
  <ion-toolbar>
      <ion-text_final slot="start" mode="md">
          <ion-back-button text="" icon="chevron-back-outline"></ion-back-button>
      </ion-text_final>
      <ion-title>
        <div class="titulo_Pag d-flex">
          Datos
          <div class="caja_estado in_stock end" *ngIf="user.state !== undefined">
              <span>Estado</span>&nbsp;&nbsp;
              <ion-toggle [(ngModel)]="user.state" color="success" (ionChange)="cambiarEstado()"></ion-toggle>
          </div>
        </div>
      </ion-title>
  </ion-toolbar>
  <ion-item lines="none" *ngIf="user.email !== undefined">
      <div class="item_General">
          <div class="item_info d-flex">
              <div class="item_img">
                  <img src="https://www.uic.mx/posgrados/files/2018/05/default-user.png">
              </div>
              <div class="d-flex">
                  <div class="detalles_user">
                      <h3 class="d-flex">
                        {{user.email}}
                      </h3>
                      <h4 class="d-flex" *ngIf="user.role === 'isResident'">Residente</h4>
                      <h4 class="d-flex" *ngIf="user.role === 'Reciclador'">Reciclador</h4>
                      <h4 class="d-flex" *ngIf="user.role === 'isShop'">Tienda</h4>
                  </div>
              </div>
          </div>
      </div>
  </ion-item>

  <ion-item lines="none" *ngIf="user.email === undefined">
    <div class="item_General">
        <div class="item_info d-flex">
            <div class="item_img">
                <img src="https://www.uic.mx/posgrados/files/2018/05/default-user.png">
            </div>
            <div class="d-flex">
                <div class="detalles_user">
                    <h3 class="d-flex">
                      <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
                    </h3>
                    <h4 class="d-flex">
                        <ion-skeleton-text animated style="width: 20%"></ion-skeleton-text>
                    </h4>
                </div>
            </div>
        </div>
    </div>
  </ion-item>
</ion-header>

<ion-content class="bg_color" fullscreen>
  <ion-list lines="none">
    <!-- Residente --> 
    <div class="lista_items" *ngIf="user.role == 'isResident'">
      <ion-item>
          <div class="item_General">
              <div class="cajaText">
                  <h3>Nombre y Apellido</h3>
                  <div class="text_final d-flex">
                      <h5 *ngIf="residente.name !== undefined">{{residente.name + residente.lastName}}</h5>                      
                      <ion-skeleton-text animated style="width: 50%" *ngIf="residente.name === undefined"></ion-skeleton-text>
                  </div>
              </div>
          </div>
      </ion-item>
      <ion-item>
        <div class="item_General">
            <div class="cajaText">
                <h3>Teléfono</h3>
                <div class="text_final d-flex">
                    <h5 *ngIf="residente.phone !== undefined">{{residente.phone}}</h5>
                    <ion-skeleton-text animated style="width: 50%" *ngIf="residente.phone === undefined"></ion-skeleton-text>
                </div>
            </div>
        </div>
      </ion-item>
    </div>

    <!-- Reciclador --> 
    <div class="lista_items" *ngIf="user.role == 'Reciclador'">
      <ion-item>
          <div class="item_General">
              <div class="cajaText">
                  <h3>Nombre y Apellido</h3>
                  <div class="text_final d-flex">
                      <h5 *ngIf="reciclador.name !== undefined">{{reciclador.name +  ' ' + reciclador.lastName}}</h5>
                      <ion-skeleton-text animated style="width: 50%" *ngIf="reciclador.name === undefined"></ion-skeleton-text>
                  </div>
              </div>
          </div>
      </ion-item>
      <ion-item>
        <div class="item_General">
            <div class="cajaText">
                <h3>Documento</h3>
                <div class="text_final d-flex">
                    <h5 *ngIf="reciclador.documentType !== undefined">{{reciclador.documentType + ' ' + reciclador.document}}</h5>
                    <ion-skeleton-text animated style="width: 50%" *ngIf="reciclador.documentType === undefined"></ion-skeleton-text>
                </div>
            </div>
        </div>
      </ion-item>
      <ion-item>
        <div class="item_General">
            <div class="cajaText">
                <h3>Teléfono</h3>
                <div class="text_final d-flex">
                    <h5 *ngIf="reciclador.phone !== undefined">{{reciclador.phone}}</h5>
                    <ion-skeleton-text animated style="width: 50%" *ngIf="reciclador.phone === undefined"></ion-skeleton-text>
                </div>
            </div>
        </div>
      </ion-item>      
    </div>

    <!-- Tienda --> 
    <div class="lista_items" *ngIf="user.role == 'isShop'">      
      <h1> Imagen de Tienda</h1>
      <ion-item class="item_imagen">
        <div class="item_General">
            <div class="d-flex" style="align-items: flex-start;">
                <div class="cajaImg center_img">
                    <img *ngIf="tienda.image === null" src="assets/images/placeholder.png" class="crop_img">
                    <img *ngIf="tienda.image !== null" src="{{tienda.image}}" class="crop_img">
                </div>
            </div>
        </div>
      </ion-item>

      <ion-item>
          <div class="item_General">
              <div class="cajaText">
                  <h3>Nombre</h3>
                  <div class="text_final d-flex">
                      <h5 *ngIf="tienda.name !== undefined">{{tienda.name}}</h5>
                      <ion-skeleton-text animated style="width: 50%" *ngIf="tienda.name === undefined"></ion-skeleton-text>
                  </div>
              </div>
          </div>
      </ion-item>
      <ion-item>
        <div class="item_General">
            <div class="cajaText">
                <h3>Documento</h3>
                <div class="text_final d-flex">
                    <h5 *ngIf="tienda.documentType !== undefined">{{tienda.documentType + ' ' + tienda.document}}</h5>
                    <ion-skeleton-text animated style="width: 50%" *ngIf="tienda.documentType === undefined"></ion-skeleton-text>
                </div>
            </div>
        </div>
      </ion-item>
      <ion-item >
        <div class="item_General">
            <div class="cajaText">
                <h3>Teléfono</h3>
                <div class="text_final d-flex">
                    <h5 *ngIf="tienda.phone !== undefined">{{tienda.phone}}</h5>
                    <ion-skeleton-text animated style="width: 50%" *ngIf="tienda.phone === undefined"></ion-skeleton-text>
                </div>
            </div>
        </div>
      </ion-item>
    </div>
    
    <div *ngIf="listaDireccion.length !== 0">
      <h1>Direcciones</h1>
      <ion-list>
        <div class="lista_items">
            <ion-item *ngFor="let listaD of listaDireccion" >
              <div class="item_General">
                  <div class="cajaText">
                    <h3 *ngIf="listaD.numberOne !== null">{{listaD.streetType + ' ' + listaD.career + ' #' + listaD.numberOne + ' - ' + listaD.numberTwo}}</h3>
                    <h3 *ngIf="listaD.numberOne === null">{{listaD.streetType + ' ' + listaD.career}}</h3>
                    <h3>{{listaD.description}}</h3>
                    <h3>Facatativá , {{listaD.neighborhood}}</h3>
                  </div>
              </div>
              <ion-icon name="location-sharp" slot="end"></ion-icon>
          </ion-item>
        </div>
      </ion-list>
    </div>

    <div class="lista_items" *ngIf="listaMateriales?.length !== 0">
      <h1>Lista de Materiales</h1>
      <ion-item *ngFor="let material of listaMateriales">
          <div class="item_General">
              <div class="cajaText">
                  <h3>{{material.typeOfMaterial}}</h3>
                  <div class="text_final d-flex">
                      <h5>1 kg x 1</h5>
                      <h4 class="ion-text-end end">$ {{material.price}}</h4>
                  </div>
              </div>
          </div>
      </ion-item>
    </div>
  </ion-list>
</ion-content>