<ion-header>
  <ion-toolbar>
      <ion-buttons slot="start" mode="md">
          <ion-back-button text="" icon="chevron-back-outline"></ion-back-button>
      </ion-buttons>
      <ion-title>
        <div class="title_inner d-flex">
          Datos
          <div class="toggle_box in_stock end">
              <span>Estado</span>&nbsp;&nbsp;
              <ion-toggle [(ngModel)]="user.state" color="success" (ionChange)="cambiarEstado()"></ion-toggle>
          </div>
        </div>
      </ion-title>
  </ion-toolbar>
  <ion-item lines="none">
      <div class="item_inner">
          <div class="item_info d-flex">
              <div class="itme_img">
                  <img src="https://www.uic.mx/posgrados/files/2018/05/default-user.png">
              </div>
              <div class="d-flex">
                  <div class="item_details">
                      <h3 class="d-flex">
                        {{user.email}}
                      </h3>
                      <h4 class="d-flex" *ngIf="user.role === 'isResident'">Residente</h4>
                      <h4 class="d-flex" *ngIf="user.role === 'Reciclador'">Reciclador</h4>
                      <h4 class="d-flex" *ngIf="user.role === 'isShop'">Tienda</h4>
                  </div>
              </div>
          </div>
      </div>
  </ion-item>
</ion-header>

<ion-content class="bg_color" fullscreen>
  <ion-list lines="none">
    <!-- Residente --> 
    <div class="item_list" *ngIf="user.role == 'isResident'">
      <ion-item>
          <div class="item_inner">
              <div class="text_box">
                  <h3>Nombre y Apellido</h3>
                  <div class="buttons d-flex">
                      <h5>{{residente.name + residente.lastName}}</h5>
                  </div>
              </div>
          </div>
      </ion-item>
      <ion-item>
        <div class="item_inner">
            <div class="text_box">
                <h3>Teléfono</h3>
                <div class="buttons d-flex">
                    <h5>{{residente.phone}}</h5>
                </div>
            </div>
        </div>
      </ion-item>
    </div>

    <!-- Reciclador --> 
    <div class="item_list" *ngIf="user.role == 'Reciclador'">
      <ion-item>
          <div class="item_inner">
              <div class="text_box">
                  <h3>Nombre y Apellido</h3>
                  <div class="buttons d-flex">
                      <h5>{{reciclador.name +  ' ' + reciclador.lastName}}</h5>
                  </div>
              </div>
          </div>
      </ion-item>
      <ion-item>
        <div class="item_inner">
            <div class="text_box">
                <h3>Documento</h3>
                <div class="buttons d-flex">
                    <h5>{{reciclador.documentType + ' ' + reciclador.document}}</h5>
                </div>
            </div>
        </div>
      </ion-item>
      <ion-item>
        <div class="item_inner">
            <div class="text_box">
                <h3>Teléfono</h3>
                <div class="buttons d-flex">
                    <h5>{{reciclador.phone}}</h5>
                </div>
            </div>
        </div>
      </ion-item>      
    </div>

    <!-- Tienda --> 
    <div class="item_list" *ngIf="user.role == 'isShop'">      
      <h1> Imagen de Tienda</h1>
      <ion-item class="feature_image">
        <div class="item_inner">
            <div class="d-flex" style="align-items: flex-start;">
                <div class="img_box center_img">
                    <img *ngIf="tienda.image === null" src="assets/images/placeholder.png" class="crop_img">
                    <img *ngIf="tienda.image !== null" src="{{tienda.image}}" class="crop_img">
                </div>
            </div>
        </div>
      </ion-item>

      <ion-item>
          <div class="item_inner">
              <div class="text_box">
                  <h3>Nombre</h3>
                  <div class="buttons d-flex">
                      <h5>{{tienda.name}}</h5>
                  </div>
              </div>
          </div>
      </ion-item>
      <ion-item>
        <div class="item_inner">
            <div class="text_box">
                <h3>Documento</h3>
                <div class="buttons d-flex">
                    <h5>{{tienda.documentType + ' ' + tienda.document}}</h5>
                </div>
            </div>
        </div>
      </ion-item>
      <ion-item >
        <div class="item_inner">
            <div class="text_box">
                <h3>Teléfono</h3>
                <div class="buttons d-flex">
                    <h5>{{tienda.phone}}</h5>
                </div>
            </div>
        </div>
      </ion-item>
    </div>
    
    <div *ngIf="listaDireccion.length !== 0">
      <h1>Direcciones</h1>
      <ion-list>
        <div class="item_list">
            <ion-item *ngFor="let listaD of listaDireccion" >
              <div class="item_inner">
                  <div class="text_box">
                    <h3 *ngIf="listaD.numberOne !== null">{{listaD.streetType + ' ' + listaD.career + ' #' + listaD.numberOne + ' - ' + listaD.numberTwo}}</h3>
                    <h3 *ngIf="listaD.numberOne === null">{{listaD.streetType + ' ' + listaD.career}}</h3>
                    <h3>{{listaD.description}}</h3>
                    <h3>Facatativá , {{listaD.neighborhood}}</h3>
                  </div>
              </div>
              <ion-icon name="location-sharp" slot="end"></ion-icon>
          </ion-item>
        </div>
      </ion-list>
    </div>

    <div class="item_list" *ngIf="listaMateriales?.length!==0">
      <h1>Lista de Materiales</h1>
      <ion-item *ngFor="let material of listaMateriales">
          <div class="item_inner">
              <div class="text_box">
                  <h3>{{material.typeOfMaterial}}</h3>
                  <div class="buttons d-flex">
                      <h5>1 kg x 1</h5>
                      <h4 class="ion-text-end end">$ {{material.price}}</h4>
                  </div>
              </div>
          </div>
      </ion-item>
    </div>
  </ion-list>
</ion-content>